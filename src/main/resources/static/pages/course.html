<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>用户列表 </title>
  <link rel="stylesheet" href="./layui/css/layui.css">
  <link rel="stylesheet" href="./css/global.css">
  <link rel="stylesheet" href="./icheck/minimal/red.css">
  
  <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script type="text/javascript">
        $(function () {
                $.ajax({
                    type: "get",        //type：(string)请求方式，POST或GET        
                    dataType: "json",    //dataType：(string)预期返回的数据类型。xml,html,json,text等
                    url: "getall",  //url：(string)发送请求的地址，可以是服务器页面也可以是WebService动作。
                    success: function (msg) {
                        var str = "";
                        for (i in msg) {
                            str +=  "<tr><td><input type='checkbox' name='id' value='" + msg[i].id +"'></td><td>" + msg[i].id + "</td><td>" + msg[i].user_id +"</td><td>"+ msg[i].cname + "</td><td>"+ msg[i].curl + "</td><td class='text-center'><div class='layui-btn-group'><button class='layui-btn layui-btn-xs layui-btn-normal dw-dailog' dw-url='update.html?id=" + msg[i].id + "' dw-title='修改课程'><i class='layui-icon'>&#xe642;</i>修改</button><button class='layui-btn layui-btn-xs layui-btn-danger dw-delete' dw-url='deletecourse?id=" + msg[i].id + "' dw-title='" + msg[i].cname + "'><i class='layui-icon'>&#xe640;</i>删除</button></div></td></tr>";
                        }
                        $("tbody").append(str);
                    }
                });
        });
        
         $(function () {
         	  $("#bit").click(function () {
         	  	var content =$("#content").val();
                $.ajax({
                    type: "get",        //type：(string)请求方式，POST或GET        
                    dataType: "json",    //dataType：(string)预期返回的数据类型。xml,html,json,text等
                    data: {content:content},
                    url: "select",  //url：(string)发送请求的地址，可以是服务器页面也可以是WebService动作。
                    success: function (msg) {
                    	//清除原先在页面展示的数据
                    	$("#test tbody").html("");
                        var str = "";
                        for (i in msg) {
                        		str +=  "<tr><td><input type='checkbox' name='id' value='" + msg[i].id +"'></td><td>" + msg[i].id + "</td><td>" + msg[i].user_id +"</td><td>"+ msg[i].cname + "</td><td>"+ msg[i].curl + "</td><td class='text-center'><div class='layui-btn-group'><button class='layui-btn layui-btn-xs layui-btn-normal dw-dailog' dw-url='update.html?id=" + msg[i].id + "' dw-title='修改课程'><i class='layui-icon'>&#xe642;</i>修改</button><button class='layui-btn layui-btn-xs layui-btn-danger dw-delete' dw-url='deletecourse?id=" + msg[i].id + "' dw-title='" + msg[i].cname + "'><i class='layui-icon'>&#xe640;</i>删除</button></div></td></tr>";
                        }
                        $("tbody").append(str);
                    }
                });
             });
        });
        
       
    </script>
  
</head>
<body class="layui-layout-body">
<div class="layui-layout layui-layout-admin">
  <div class="layui-header">
    <div class="layui-logo">后台管理系统</div>
    <!-- 头部区域（可配合layui已有的水平导航） -->
    <ul class="layui-nav layui-layout-left">
      <li class="layui-nav-item"><a href="javascript:;">用户列表</a></li>
      <li class="layui-nav-item"><a href="member.html">会员列表</a></li>
    </ul>
    <ul class="layui-nav layui-layout-right">
      <li class="layui-nav-item">
        <a href="javascript:;">
          <img src="http://t.cn/RCzsdCq" class="layui-nav-img">
          Selfdom
        </a>
        <dl class="layui-nav-child">
          <dd><a href="">基本资料</a></dd>
          <dd><a href="">安全设置</a></dd>
        </dl>
      </li>
      <li class="layui-nav-item"><a href="error/error.html">退出</a></li>
    </ul>
  </div>
  
  <div class="layui-side layui-bg-black">
    <div class="layui-side-scroll">
      <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
      <ul class="layui-nav layui-nav-tree"  lay-filter="test">
        <li class="layui-nav-item"><a href="index.html">控制台</a></li>
        <li class="layui-nav-item">
				<a class="" href="javascript:;">系统设置</a>
          <dl class="layui-nav-child">
            <dd><a href="sysConfig.html">系统变量</a></dd>
          </dl>
        </li>
        
        <li class="layui-nav-item layui-nav-itemed">
        	<a href="javascript:;">课程管理</a>
           <dl class="layui-nav-child">
            <dd><a href="course.html">课程列表</a></dd>
          </dl>
        </li>
        
        <li class="layui-nav-item ">
          <a href="javascript:;">用户管理</a>
          <dl class="layui-nav-child">
            <dd><a class="layui-this" href="javascript:;">用户列表</a></dd>
          </dl>
        </li>
        <li class="layui-nav-item">
            <a href="javascript:;">权限管理</a>
            <dl class="layui-nav-child">
                <dd><a href="error/error.html">规则列表</a></dd>
                <dd><a href="error/error.html">角色列表</a></dd>
                <dd><a href="error/error.html">用户角色</a></dd>
            </dl>
        </li>
        <li class="layui-nav-item">
                <a href="javascript:;">会员管理</a>
                <dl class="layui-nav-child">
                    <dd><a href="member.html">会员列表</a></dd>
                </dl>
            </li>
        <li class="layui-nav-item">
            <a href="javascript:;">开发者工具</a>
            <dl class="layui-nav-child">
                <dd><a href="error/error.html">一键生成</a></dd>
            </dl>
        </li>
        <li class="layui-nav-item">
            <a href="javascript:;">集成Demo</a>
            <dl class="layui-nav-child">
                <dd><a href="error/error.html">文件上传</a></dd>
                <dd><a href="upload.html">Execel导出</a></dd>
            </dl>
        </li>
      </ul>
    </div>
  </div>
  
  <div class="layui-body">
    <!-- 内容主体区域 -->
    <div style="padding: 15px;">
        <fieldset class="layui-elem-field">
            <legend>课程管理 - 课程列表</legend>
            <div class="layui-field-box">

                <div class="layui-form-item" style="text-align:center;">
                  <div class="layui-inline">
                    <div class="layui-input-inline">
                      <input autocomplete="off" class="layui-input" placeholder="请输入名称" type="text" id="content" value="">
                    </div>
                  </div>
                  <div class="layui-inline" style="text-align:left;">
                    <div class="layui-input-inline">
                      <button   id="bit" class="layui-btn"><i class="layui-icon">&#xe615;</i>查询</button>
                    </div>
                  </div>
                </div>
    
              <hr>
              <div class="layui-btn-group">
                  <button class="layui-btn layui-btn-xs layui-btn-normal dw-dailog" dw-url="create.html" dw-title="新增用户" dw-width="100%" dw-height="100%">
                      <i class="layui-icon">&#xe654;</i>新增
                  </button>
                  <!--
                  	作者：1142328359@qq.com
                  	时间：2018-08-23
                  	描述：
                  <button class="layui-btn layui-btn-xs layui-btn-danger dw-batch-delete" dw-url="deletecourse">
                      <i class="layui-icon">&#xe640;</i>删除
                  </button>
                  -->
                  <button class="layui-btn layui-btn-xs dw-refresh">
                      <i class="layui-icon">&#x1002;</i>刷新
                  </button>
              </div>
              <hr>
              <table class="layui-table" id="test">
                  <colgroup>
                      <col width="150">
                      <col width="150">
                      <col width="200">
                      <col>
                      <col>
                  </colgroup>
                  <thead>
                      <tr>
                      <th class="selectAll"><input type="checkbox"></th>
                      <th>课程ID</th>
                      <th>用户</th>
                      <th>课程名</th>
                      <th>课程地址</th>
                      <th style="text-align:center;">操作</th>
                      </tr> 
                  </thead>
                  <tbody>
                      
                  </tbody>
              </table>
            </div>
        </fieldset>
    </div>
  </div>
  
  <div class="layui-footer">
    <!-- 底部固定区域 -->
    © 1142328359@qq.com
  </div>
</div>
<script type="text/javascript" src="./javascript/jquery.min.js"></script>
<script type="text/javascript" src="./layui/layui.js"></script>
<script type="text/javascript" src="./icheck/icheck.js"></script>
<script type="text/javascript" src="./javascript/dw.js"></script>
</body>
</html>